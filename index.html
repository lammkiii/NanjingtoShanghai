<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å—äº¬ä¸Šæµ· x å‰ä¼Šå¡å“‡ä¹‹æ—…</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --bg-color: #FDFBF6; /* æº«æš–çš„ç±³ç™½è‰² */
            --card-bg: #FFFFFF;
            --text-main: #4A4A4A;
            --text-light: #888888;
            --accent-pink: #FFDBE6; /* å‰ä¼Šå¡å“‡ç²‰ */
            --accent-blue: #C8E3F2; /* å°å…«è— */
            --accent-yellow: #FFF6C4; /* çƒè–©å¥‡é»ƒ */
            --nav-active: #FF8BA7;
            --shadow: 0 4px 12px rgba(0,0,0,0.05);
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            padding-bottom: 80px; /* ç•™çµ¦åº•éƒ¨å°èˆª */
        }

        /* Header */
        header {
            position: sticky;
            top: 0;
            background: rgba(253, 251, 246, 0.95);
            backdrop-filter: blur(10px);
            padding: 15px 20px;
            z-index: 100;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.02);
        }
        h1 { margin: 0; font-size: 1.2rem; font-weight: 700; color: var(--text-main); }
        .location-badge {
            background: var(--accent-blue);
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
        }

        /* Container */
        .container { padding: 15px; }

        /* Weather Widget */
        .weather-card {
            background: linear-gradient(135deg, #e0f2ff 0%, #ffffff 100%);
            border-radius: 20px;
            padding: 15px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: var(--shadow);
        }
        .weather-info h2 { margin: 0; font-size: 1.5rem; }
        .weather-info p { margin: 5px 0 0; font-size: 0.9rem; color: var(--text-light); }
        .weather-icon { font-size: 2rem; color: #7BC4EA; }

        /* Day Selector */
        .day-scroll {
            display: flex;
            overflow-x: auto;
            gap: 10px;
            padding-bottom: 10px;
            margin-bottom: 10px;
        }
        .day-chip {
            background: var(--card-bg);
            padding: 8px 16px;
            border-radius: 16px;
            white-space: nowrap;
            border: 1px solid #eee;
            font-size: 0.9rem;
            transition: all 0.3s;
        }
        .day-chip.active {
            background: var(--text-main);
            color: white;
            border-color: var(--text-main);
        }

        /* Itinerary Cards */
        .card {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 18px;
            margin-bottom: 15px;
            box-shadow: var(--shadow);
            position: relative;
            border: 1px solid rgba(0,0,0,0.02);
        }
        
        /* Category Stripes */
        .card.spot { border-left: 5px solid var(--accent-blue); }
        .card.food { border-left: 5px solid var(--accent-pink); }
        .card.transport { border-left: 5px solid var(--accent-yellow); }

        .card-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 10px; }
        .time { font-weight: 700; color: var(--nav-active); font-size: 0.9rem; }
        .title { font-size: 1.1rem; font-weight: 700; margin: 5px 0; }
        .desc { font-size: 0.9rem; color: var(--text-light); line-height: 1.5; margin-bottom: 10px; }

        /* Auto-highlight Tags */
        .tags { display: flex; flex-wrap: wrap; gap: 6px; margin-top: 8px; }
        .tag {
            font-size: 0.75rem;
            padding: 4px 8px;
            border-radius: 8px;
            font-weight: 600;
        }
        .tag-must-eat { background: #FFE0E0; color: #D64545; }
        .tag-must-buy { background: #E0F7FA; color: #00838F; }
        .tag-code { background: #FFF3E0; color: #EF6C00; font-family: monospace; }
        .tag-tip { background: #F3F4F6; color: #4B5563; }

        /* Navigation Button */
        .nav-btn {
            display: inline-flex;
            align-items: center;
            background: #4A90E2;
            color: white;
            padding: 8px 16px;
            border-radius: 50px;
            font-size: 0.85rem;
            text-decoration: none;
            margin-top: 10px;
            box-shadow: 0 2px 5px rgba(74, 144, 226, 0.3);
        }
        .nav-btn i { margin-right: 5px; }

        /* Tools Grid */
        .tools-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        .tool-card {
            background: var(--card-bg);
            padding: 20px;
            border-radius: 20px;
            text-align: center;
            box-shadow: var(--shadow);
        }
        .tool-icon { font-size: 1.5rem; margin-bottom: 10px; display: block; }

        /* Tab Bar */
        .tab-bar {
            position: fixed;
            bottom: 20px;
            left: 20px;
            right: 20px;
            background: white;
            border-radius: 50px;
            display: flex;
            justify-content: space-around;
            padding: 12px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            z-index: 200;
        }
        .tab-item {
            color: var(--text-light);
            font-size: 1.2rem;
            padding: 10px;
            transition: 0.3s;
        }
        .tab-item.active {
            color: var(--nav-active);
            transform: translateY(-2px);
        }

        /* Sections */
        .section { display: none; }
        .section.active { display: block; }
        
        /* Chiikawa Image Placeholder */
        .chiikawa-decor {
            text-align: center;
            margin: 20px 0;
            opacity: 0.7;
        }
        .chiikawa-decor img { max-width: 100px; }

    </style>
</head>
<body>

    <header>
        <div>
            <h1>ğŸ‡¨ğŸ‡³ è¯æ±å…­æ—¥éŠ</h1>
            <small style="color:var(--text-light)">Nanjing & Shanghai</small>
        </div>
        <div class="location-badge" id="current-city">å—äº¬</div>
    </header>

    <div class="container">
        
        <div id="tab-itinerary" class="section active">
            
            <div class="weather-card">
                <div class="weather-info">
                    <h2 id="weather-temp">18Â°C</h2>
                    <p id="weather-desc">å¤šé›² â€¢ é©åˆæ•£æ­¥</p>
                </div>
                <div class="weather-icon"><i class="fas fa-cloud-sun"></i></div>
            </div>

            <div class="day-scroll" id="day-selector">
                </div>

            <div class="chiikawa-decor">
                <i class="fas fa-star" style="color: #FFDBE6;"></i> å‰ä¼Šè¦ºå¾—é€™è£¡å¾ˆæ£’
            </div>

            <div id="itinerary-list">
                </div>
        </div>

        <div id="tab-tools" class="section">
            <h2 style="margin-bottom:20px;">ğŸ§° æ—…è¡Œå·¥å…·ç®±</h2>
            <div class="tools-grid">
                <div class="tool-card">
                    <span class="tool-icon">âœˆï¸</span>
                    <strong>èˆªç­è³‡è¨Š</strong>
                </div>
                <div class="tool-card">
                    <span class="tool-icon">ğŸ¨</span>
                    <strong>ä½å®¿è³‡è¨Š</strong>
                </div>
                <div class="tool-card">
                    <span class="tool-icon">ğŸ†˜</span>
                    <strong>ç·Šæ€¥è¯çµ¡</strong>
                </div>
                <div class="tool-card">
                    <span class="tool-icon">ğŸ’°</span>
                    <strong>è¨˜å¸³/é ç®—</strong>
                </div>
            </div>
            
            <div class="card" style="margin-top: 20px; border-left: 5px solid #FF8BA7;">
                <h3>ğŸ“ å‚™å¿˜éŒ„</h3>
                <p>è¨˜å¾—å¸¶è½‰æ¥é ­ã€è¡Œå‹•é›»æºã€‚</p>
            </div>
        </div>

    </div>

    <div class="tab-bar">
        <div class="tab-item active" onclick="switchTab('itinerary')"><i class="fas fa-map-marked-alt"></i></div>
        <div class="tab-item" onclick="switchTab('tools')"><i class="fas fa-suitcase"></i></div>
        <div class="tab-item"><i class="fas fa-plus-circle" style="color:var(--nav-active)"></i></div> </div>

    <script>
        // æ¨¡æ“¬æ•¸æ“šè³‡æ–™åº« (é€™éƒ¨åˆ†åœ¨çœŸå¯¦ App ä¸­æœƒä¾†è‡ªå¾Œç«¯æˆ– JSON)
        const tripData = {
            days: [
                { id: 1, city: "å—äº¬", label: "Day 1: æŠµé”å—äº¬" },
                { id: 2, city: "å—äº¬", label: "Day 2: æ­·å²å·¡ç¦®" },
                { id: 3, city: "å—äº¬", label: "Day 3: æ–‡è—æ•£ç­–" },
                { id: 4, city: "ä¸Šæµ·", label: "Day 4: ç§»å‹•æ—¥" },
                { id: 5, city: "ä¸Šæµ·", label: "Day 5: ç¹èŠ±ä¹‹æ—…" },
                { id: 6, city: "ä¸Šæµ·", label: "Day 6: å›ç¨‹" }
            ],
            itineraries: {
                1: [
                    { 
                        type: 'transport', time: '14:00', title: 'ç¥¿å£æ©Ÿå ´å–è»Š', 
                        desc: 'é ç´„ä»£è™Ÿ: # Hertz-8821ã€‚å‰å¾€å¸‚å€ç´„ 40 åˆ†é˜ã€‚', 
                        location: 'å—äº¬ç¥¿å£åœ‹éš›æ©Ÿå ´',
                        tags: [{text: 'é ç´„ä»£è™Ÿ Hertz-8821', type: 'code'}]
                    },
                    { 
                        type: 'food', time: '18:00', title: 'å—äº¬å¤§ç‰Œæª” (å¾·åŸºåº—)', 
                        desc: 'å¿…é»å¤©ç‹çƒ¤é´¨åŒ…ã€å¤æ³•ç³–èŠ‹è‹—ã€‚æ™šä¸Šäººå¤šå»ºè­°æå‰æ’éšŠã€‚', 
                        location: 'å—äº¬å¤§ç‰Œæª”(å¾·åŸºå»£å ´åº—)',
                        tags: [{text: 'å¿…åƒ: çƒ¤é´¨åŒ…', type: 'must-eat'}, {text: 'æ’éšŠé è­¦', type: 'tip'}]
                    }
                ],
                2: [
                    {
                        type: 'spot', time: '09:00', title: 'ä¸­å±±é™µ',
                        desc: 'éœ€è¦æå‰é ç´„ã€‚é€™è£¡å°éšå¾ˆå¤šï¼Œå»ºè­°ç©¿å¥½èµ°çš„é‹ã€‚å‰ä¼Šå¡å“‡èªªè¦æ³¨æ„é˜²æ›¬å–”ï¼',
                        location: 'ä¸­å±±é™µ',
                        tags: [{text: 'éœ€é ç´„', type: 'must-buy'}, {text: '392ç´šå°éš', type: 'tip'}]
                    },
                    {
                        type: 'food', time: '12:30', title: 'æè¨˜æ¸…çœŸé¤¨',
                        desc: 'å—äº¬æœ€å¥½åƒçš„ç‰›è‚‰é‹è²¼ï¼Œçš®è„†æ±å¤šã€‚',
                        location: 'æè¨˜æ¸…çœŸé¤¨',
                        tags: [{text: 'å¿…åƒ: ç‰›è‚‰é‹è²¼', type: 'must-eat'}]
                    }
                ]
            }
        };

        let currentDay = 1;

        // åˆå§‹åŒ–
        window.onload = function() {
            renderDaySelector();
            renderItinerary(1);
        };

        // æ¸²æŸ“æ—¥æœŸé¸æ“‡å™¨
        function renderDaySelector() {
            const container = document.getElementById('day-selector');
            container.innerHTML = '';
            tripData.days.forEach(day => {
                const chip = document.createElement('div');
                chip.className = `day-chip ${day.id === currentDay ? 'active' : ''}`;
                chip.textContent = day.label;
                chip.onclick = () => {
                    currentDay = day.id;
                    updateCity(day.city);
                    renderDaySelector();
                    renderItinerary(day.id);
                };
                container.appendChild(chip);
            });
        }

        // æ›´æ–°åŸå¸‚ Badge
        function updateCity(city) {
            document.getElementById('current-city').textContent = city;
        }

        // æ¸²æŸ“è¡Œç¨‹å¡ç‰‡
        function renderItinerary(dayId) {
            const list = document.getElementById('itinerary-list');
            list.innerHTML = '';
            
            const items = tripData.itineraries[dayId] || [];
            
            if (items.length === 0) {
                list.innerHTML = '<div style="text-align:center; padding:20px; color:#999;">é»æ“Šä¸‹æ–¹ + æ·»åŠ è¡Œç¨‹</div>';
                return;
            }

            items.forEach(item => {
                const card = document.createElement('div');
                card.className = `card ${item.type}`;
                
                // ç”¢ç”Ÿæ¨™ç±¤ HTML
                let tagsHtml = '';
                if(item.tags) {
                    tagsHtml = '<div class="tags">';
                    item.tags.forEach(tag => {
                        tagsHtml += `<span class="tag tag-${tag.type}">${tag.text}</span>`;
                    });
                    tagsHtml += '</div>';
                }

                // é«˜å¾·åœ°åœ–é€£çµ (ä½¿ç”¨ URI Scheme)
                // Android/iOS è‹¥æœ‰å®‰è£é«˜å¾·åœ°åœ–æœƒç›´æ¥æ‰“é–‹ï¼Œæ²’æœ‰å‰‡æ‰“é–‹ç¶²é ç‰ˆ
                const amapUrl = `https://uri.amap.com/navigation?to=&mode=car&policy=1&src=mypage&coordinate=gaode&callnative=1&poiid=&poiname=${encodeURIComponent(item.location)}`;

                card.innerHTML = `
                    <div class="card-header">
                        <span class="time">${item.time}</span>
                        <i class="fas fa-ellipsis-h" style="color:#ddd"></i>
                    </div>
                    <div class="title">${item.title}</div>
                    <div class="desc">${item.desc}</div>
                    ${tagsHtml}
                    <a href="${amapUrl}" target="_blank" class="nav-btn">
                        <i class="fas fa-location-arrow"></i> å°èˆªå»é€™è£¡
                    </a>
                `;
                list.appendChild(card);
            });
        }

        // åˆ‡æ›åˆ†é 
        function switchTab(tabName) {
            document.querySelectorAll('.section').forEach(el => el.classList.remove('active'));
            document.querySelectorAll('.tab-item').forEach(el => el.classList.remove('active'));
            
            document.getElementById(`tab-${tabName}`).classList.add('active');
            
            // ç°¡å–®çš„ Tab æ¨£å¼åˆ‡æ›é‚è¼¯ (ä¾é †åº)
            const index = tabName === 'itinerary' ? 0 : 1;
            document.querySelectorAll('.tab-item')[index].classList.add('active');
        }
    </script>
</body>
</html>
