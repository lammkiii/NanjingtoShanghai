<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å—äº¬ä¸Šæµ· x å‰ä¼Šå¡å“‡ä¹‹æ—…</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>

    <style>
        :root {
            --bg-color: #FDFBF6;
            --card-bg: #FFFFFF;
            --text-main: #4A4A4A;
            --text-light: #888888;
            --accent-pink: #FFDBE6;
            --accent-blue: #C8E3F2;
            --accent-yellow: #FFF6C4;
            --nav-active: #FF8BA7;
            --shadow: 0 4px 12px rgba(0,0,0,0.05);
            --line-color: #E0E0E0;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body {
            margin: 0; padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg-color); color: var(--text-main);
            padding-bottom: 80px;
        }

        /* Header */
        header {
            position: sticky; top: 0;
            background: rgba(253, 251, 246, 0.95); backdrop-filter: blur(10px);
            padding: 15px 20px; z-index: 100;
            display: flex; justify-content: space-between; align-items: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.02);
        }
        h1 { margin: 0; font-size: 1.2rem; font-weight: 700; }
        .location-badge {
            background: var(--accent-blue); padding: 5px 12px;
            border-radius: 20px; font-size: 0.8rem; font-weight: bold;
        }

        .container { padding: 15px; }

        /* Weather */
        .weather-card {
            background: linear-gradient(135deg, #e0f2ff 0%, #ffffff 100%);
            border-radius: 20px; padding: 15px; margin-bottom: 20px;
            display: flex; align-items: center; justify-content: space-between;
            box-shadow: var(--shadow);
        }
        .weather-info h2 { margin: 0; font-size: 1.5rem; }
        .weather-info p { margin: 5px 0 0; font-size: 0.9rem; color: var(--text-light); }
        .weather-icon { font-size: 2rem; color: #7BC4EA; }

        /* Day Scroll */
        .day-scroll {
            display: flex; overflow-x: auto; gap: 10px; padding-bottom: 10px; margin-bottom: 10px;
        }
        .day-chip {
            background: var(--card-bg); padding: 8px 16px; border-radius: 16px;
            white-space: nowrap; border: 1px solid #eee; transition: all 0.3s;
        }
        .day-chip.active {
            background: var(--text-main); color: white; border-color: var(--text-main);
        }

        /* Timeline Styles (æ–°çš„æ™‚é–“è»¸æ¨£å¼) */
        .timeline {
            position: relative;
            padding-left: 20px;
        }
        .timeline::before {
            content: ''; position: absolute; left: 6px; top: 10px; bottom: 10px;
            width: 2px; background: var(--line-color);
        }

        .timeline-item {
            position: relative; margin-bottom: 20px;
        }
        
        /* åœ“é» */
        .timeline-dot {
            position: absolute; left: -20px; top: 18px;
            width: 14px; height: 14px; border-radius: 50%;
            background: white; border: 3px solid var(--nav-active);
            z-index: 1;
        }
        .timeline-dot.fixed-flight { border-color: #4A90E2; } /* èˆªç­çš„é»æ˜¯è—è‰²çš„ */

        /* Card æ¨£å¼å¾®èª¿ */
        .card {
            background: var(--card-bg); border-radius: 20px; padding: 18px;
            box-shadow: var(--shadow); position: relative;
            margin-left: 10px; /* ç•™çµ¦æ™‚é–“è»¸ */
        }
        .card.spot { border-left: 5px solid var(--accent-blue); }
        .card.food { border-left: 5px solid var(--accent-pink); }
        .card.transport { border-left: 5px solid var(--accent-yellow); }
        /* å›ºå®šè¡Œç¨‹(èˆªç­)æ¨£å¼ */
        .card.fixed-item { border-left: 5px solid #4A90E2; background: #F0F7FF; }

        .card-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 5px; }
        .time { font-weight: 700; color: var(--nav-active); font-size: 0.9rem; }
        .title { font-size: 1.1rem; font-weight: 700; margin: 5px 0; }
        .desc { font-size: 0.9rem; color: var(--text-light); line-height: 1.5; margin-bottom: 10px; }
        
        .tags { display: flex; flex-wrap: wrap; gap: 6px; margin-top: 8px; }
        .tag { font-size: 0.75rem; padding: 4px 8px; border-radius: 8px; font-weight: 600; }
        .tag-must-eat { background: #FFE0E0; color: #D64545; }
        .tag-code { background: #FFF3E0; color: #EF6C00; font-family: monospace; }
        .tag-flight { background: #E3F2FD; color: #1976D2; }

        .nav-btn {
            display: inline-flex; align-items: center; background: #4A90E2; color: white;
            padding: 8px 16px; border-radius: 50px; font-size: 0.85rem; text-decoration: none; margin-top: 10px;
        }

        /* Tab Bar */
        .tab-bar {
            position: fixed; bottom: 20px; left: 20px; right: 20px;
            background: white; border-radius: 50px; display: flex; justify-content: space-around;
            padding: 12px; box-shadow: 0 5px 20px rgba(0,0,0,0.1); z-index: 200;
        }
        .tab-item { color: var(--text-light); font-size: 1.2rem; padding: 10px; }
        .tab-item.active { color: var(--nav-active); transform: translateY(-2px); }

        /* Modal */
        .modal-overlay {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.5); z-index: 999; justify-content: center; align-items: center;
        }
        .modal-overlay.open { display: flex; }
        .modal-card {
            background: white; width: 85%; max-width: 400px; padding: 25px;
            border-radius: 25px; box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            max-height: 80vh; overflow-y: auto;
        }
        .form-group { margin-bottom: 15px; }
        .form-label { display: block; margin-bottom: 5px; font-size: 0.9rem; font-weight: bold; }
        .form-input, .form-select {
            width: 100%; padding: 10px; border: 1px solid #eee; border-radius: 10px;
            font-size: 1rem; background: #FAFAFA;
        }
        .btn-submit {
            width: 100%; padding: 12px; background: var(--nav-active); color: white;
            border: none; border-radius: 12px; font-size: 1rem; font-weight: bold; cursor: pointer;
        }
        .btn-close {
            position: absolute; top: 15px; right: 15px; font-size: 1.5rem; color: #999; cursor: pointer;
        }

        /* Sections */
        .section { display: none; }
        .section.active { display: block; }
        
        /* Tools Grid */
        .tools-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .tool-card {
            background: var(--card-bg); padding: 20px; border-radius: 20px;
            text-align: center; box-shadow: var(--shadow); cursor: pointer;
        }
        .tool-icon { font-size: 1.5rem; margin-bottom: 10px; display: block; }
        
        /* Flight Detail in Tool */
        .flight-detail {
            border-bottom: 1px solid #eee; padding-bottom: 15px; margin-bottom: 15px;
        }
        .flight-detail:last-child { border: none; }
        .flight-route { font-weight: bold; font-size: 1.1rem; color: #4A90E2; margin-bottom: 5px; }
    </style>
</head>
<body>

    <header>
        <div>
            <h1>ğŸ‡¨ğŸ‡³ è¯æ±å…­æ—¥éŠ</h1>
            <small style="color:var(--text-light)">å³æ™‚é›²ç«¯åŒæ­¥ç‰ˆ</small>
        </div>
        <div class="location-badge" id="current-city">å—äº¬</div>
    </header>

    <div class="container">
        <div id="tab-itinerary" class="section active">
            <div class="weather-card">
                <div class="weather-info">
                    <h2 id="weather-temp">18Â°C</h2>
                    <p id="weather-desc">å¤šé›² â€¢ é©åˆæ•£æ­¥</p>
                </div>
                <div class="weather-icon"><i class="fas fa-cloud-sun"></i></div>
            </div>

            <div class="day-scroll" id="day-selector"></div>
            
            <div style="text-align: center; margin: 20px 0; opacity: 0.7; color: var(--text-light); font-size: 0.9rem;">
                 <i class="fas fa-sync-alt fa-spin" style="color:#FFDBE6"></i> è³‡æ–™èˆ‡å¥½å‹å³æ™‚åŒæ­¥ä¸­
            </div>

            <div id="itinerary-list" class="timeline">
                <div style="text-align:center; padding:30px; color:#ccc;">
                    <i class="fas fa-spinner fa-spin fa-2x"></i><br><br>æ­£åœ¨å‘¼å«å‰ä¼Šå¡å“‡æ¬é‹è³‡æ–™...
                </div>
            </div>
        </div>

        <div id="tab-tools" class="section">
            <h2 style="margin-bottom:20px;">ğŸ§° æ—…è¡Œå·¥å…·ç®±</h2>
            <div class="tools-grid">
                <div class="tool-card" onclick="showFlightInfo()">
                    <span class="tool-icon">âœˆï¸</span><strong>èˆªç­è³‡è¨Š</strong>
                </div>
                <div class="tool-card">
                    <span class="tool-icon">ğŸ¨</span><strong>ä½å®¿è³‡è¨Š</strong>
                </div>
                <div class="tool-card">
                    <span class="tool-icon">ğŸ†˜</span><strong>ç·Šæ€¥è¯çµ¡</strong>
                </div>
                <div class="tool-card">
                    <span class="tool-icon">ğŸ’°</span><strong>è¨˜å¸³/é ç®—</strong>
                </div>
            </div>
            
            <div class="card" style="margin-top: 20px; border-left: 5px solid #FF8BA7;">
                <h3>ğŸ“ å‚™å¿˜éŒ„</h3>
                <ul style="padding-left: 20px; color: var(--text-main); line-height: 1.8;">
                    <li><strong>èº«ä»½è­‰ã€å›é„‰è­‰ (éå¸¸é‡è¦ï¼)</strong></li>
                    <li>è½‰æ¥é ­ã€è¡Œå‹•é›»æº</li>
                    <li>å€‹äººå¸¸å‚™è—¥å“</li>
                    <li>å‰ä¼Šå¡å“‡ç©å¶</li>
                </ul>
            </div>
        </div>
    </div>

    <div class="tab-bar">
        <div class="tab-item active" onclick="switchTab('itinerary')"><i class="fas fa-map-marked-alt"></i></div>
        <div class="tab-item" onclick="switchTab('tools')"><i class="fas fa-suitcase"></i></div>
        <div class="tab-item" onclick="openModal('addModal')"><i class="fas fa-plus-circle" style="color:var(--nav-active); font-size:1.4rem;"></i></div> 
    </div>

    <div class="modal-overlay" id="addModal">
        <div class="modal-card" style="position:relative;">
            <div class="btn-close" onclick="closeModal('addModal')">&times;</div>
            <h3 style="margin-top:0;">âœ¨ æ–°å¢è¡Œç¨‹</h3>
            
            <div class="form-group">
                <label class="form-label">ç¬¬å¹¾å¤©</label>
                <select id="input-day" class="form-select">
                    <option value="1">Day 1: æŠµé”å—äº¬</option>
                    <option value="2">Day 2: æ­·å²å·¡ç¦®</option>
                    <option value="3">Day 3: æ–‡è—æ•£ç­–</option>
                    <option value="4">Day 4: ç§»å‹•æ—¥</option>
                    <option value="5">Day 5: ç¹èŠ±ä¹‹æ—…</option>
                    <option value="6">Day 6: å›ç¨‹</option>
                </select>
            </div>
            <div class="form-group">
                <label class="form-label">æ™‚é–“</label>
                <input type="time" id="input-time" class="form-input" value="12:00">
            </div>
            <div class="form-group">
                <label class="form-label">é¡å‹</label>
                <select id="input-type" class="form-select">
                    <option value="spot">ğŸ“ æ™¯é»</option>
                    <option value="food">ğŸœ ç¾é£Ÿ</option>
                    <option value="transport">ğŸš— äº¤é€š</option>
                </select>
            </div>
            <div class="form-group">
                <label class="form-label">æ¨™é¡Œ</label>
                <input type="text" id="input-title" class="form-input" placeholder="ä¾‹å¦‚ï¼šå—äº¬å¤§ç‰Œæª”">
            </div>
            <div class="form-group">
                <label class="form-label">æè¿° / æ”»ç•¥</label>
                <input type="text" id="input-desc" class="form-input" placeholder="å¿…é»çƒ¤é´¨åŒ…...">
            </div>
            <div class="form-group">
                <label class="form-label">å°èˆªåœ°é»</label>
                <input type="text" id="input-location" class="form-input" placeholder="ç”¨æ–¼é«˜å¾·åœ°åœ–æœå°‹ (ç©ºç™½å‰‡ç”¨æ¨™é¡Œ)">
            </div>
            <button class="btn-submit" onclick="addItinerary()">ç¢ºèªæ–°å¢</button>
        </div>
    </div>

    <div class="modal-overlay" id="flightModal">
        <div class="modal-card" style="position:relative;">
            <div class="btn-close" onclick="closeModal('flightModal')">&times;</div>
            <h3 style="margin-top:0; margin-bottom: 20px;">âœˆï¸ èˆªç­è³‡è¨Š</h3>
            
            <div class="flight-detail">
                <div class="flight-route">å»ç¨‹ï¼šæ¾³é–€ â” å—äº¬</div>
                <div style="color:var(--text-light); font-size:0.9rem;">12æœˆ18æ—¥ (é€±ä¸€)</div>
                <div style="font-size:1.2rem; font-weight:bold; margin:5px 0;">13:00 - 15:25</div>
                <div style="font-size:0.9rem;">æ±æ–¹èˆªç©º MU9798</div>
            </div>

            <div class="flight-detail">
                <div class="flight-route">å›ç¨‹ï¼šä¸Šæµ·æµ¦æ± â” æ¾³é–€</div>
                <div style="color:var(--text-light); font-size:0.9rem;">12æœˆ23æ—¥ (é€±å…­)</div>
                <div style="font-size:1.2rem; font-weight:bold; margin:5px 0;">17:25 - 20:20</div>
                <div style="font-size:0.9rem;">æ±æ–¹èˆªç©º MU9991</div>
            </div>
            
            <div style="background:#FFF3E0; padding:10px; border-radius:10px; font-size:0.9rem; color:#E65100; margin-top:10px;">
                <i class="fas fa-exclamation-circle"></i> è¨˜å¾—ææ—© 2 å°æ™‚æŠµé”æ©Ÿå ´ Check-inï¼
            </div>
        </div>
    </div>

    <script>
        // ==========================================
        // Firebase Config (ä½¿ç”¨ä½ æä¾›çš„ Travel-app-2025)
        // ==========================================
        const firebaseConfig = {
          apiKey: "AIzaSyCTobOEiUOsMyC39HN5WPgN6hD4p4gXxLU",
          authDomain: "travel-app-2025-d66ff.firebaseapp.com",
          projectId: "travel-app-2025-d66ff",
          storageBucket: "travel-app-2025-d66ff.firebasestorage.app",
          messagingSenderId: "4489994526",
          appId: "1:4489994526:web:a65bb6ec562ea364a2a90f"
        };
        // ==========================================

        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        const dayLabels = {
            1: "Day 1: æŠµé”å—äº¬", 2: "Day 2: æ­·å²å·¡ç¦®", 3: "Day 3: æ–‡è—æ•£ç­–",
            4: "Day 4: ç§»å‹•æ—¥", 5: "Day 5: ç¹èŠ±ä¹‹æ—…", 6: "Day 6: å›ç¨‹"
        };
        const cityMap = { 1:"å—äº¬", 2:"å—äº¬", 3:"å—äº¬", 4:"ä¸Šæµ·", 5:"ä¸Šæµ·", 6:"ä¸Šæµ·" };
        
        let currentDay = 1;
        let allItineraries = []; 

        // âœˆï¸ å¯«æ­»åœ¨ç¨‹å¼ç¢¼è£¡çš„èˆªç­è³‡è¨Š (ç„¡æ³•åˆªé™¤)
        // é€™æ¨£å¯ä»¥ä¿è­‰é€™äº›è³‡è¨Šæ°¸é å­˜åœ¨ï¼Œä¸ä¾è³´è³‡æ–™åº«
        const fixedFlights = [
            {
                id: "flight_go",
                day: 1,
                time: "13:00",
                type: "fixed-item", // ç‰¹æ®Šæ¨£å¼
                title: "âœˆï¸ é£›å¾€å—äº¬ (MU9798)",
                desc: "æ¾³é–€(MFM) â” å—äº¬(NKG) | 13:00 èµ·é£› - 15:25 æŠµé”",
                location: "æ¾³é–€åœ‹éš›æ©Ÿå ´",
                isFixed: true // æ¨™è¨˜ç‚ºä¸å¯åˆªé™¤
            },
            {
                id: "flight_back",
                day: 6,
                time: "17:25",
                type: "fixed-item",
                title: "âœˆï¸ é£›å¾€æ¾³é–€ (MU9991)",
                desc: "ä¸Šæµ·æµ¦æ±(PVG) â” æ¾³é–€(MFM) | 17:25 èµ·é£› - 20:20 æŠµé”",
                location: "ä¸Šæµ·æµ¦æ±åœ‹éš›æ©Ÿå ´T1",
                isFixed: true
            }
        ];

        window.onload = function() {
            renderDaySelector();
            listenRealtimeData();
        };

        function listenRealtimeData() {
            db.collection("trips").orderBy("time").onSnapshot((snapshot) => {
                allItineraries = [];
                snapshot.forEach((doc) => {
                    allItineraries.push({ id: doc.id, ...doc.data() });
                });
                renderItinerary(currentDay);
            }, (error) => {
                console.error("è®€å–å¤±æ•—:", error);
                if(error.code === 'permission-denied') {
                    alert("âš ï¸ æ¬Šé™éŒ¯èª¤ï¼šè«‹ç¢ºèªè³‡æ–™åº«æ˜¯å¦å·²å»ºç«‹ (Test Mode)");
                }
            });
        }

        function addItinerary() {
            const day = parseInt(document.getElementById('input-day').value);
            const time = document.getElementById('input-time').value;
            const type = document.getElementById('input-type').value;
            const title = document.getElementById('input-title').value;
            const desc = document.getElementById('input-desc').value;
            const location = document.getElementById('input-location').value;

            if(!title) return alert("è«‹è¼¸å…¥æ¨™é¡Œï¼");

            const btn = document.querySelector('.btn-submit');
            btn.textContent = "å‚³é€ä¸­...";
            btn.disabled = true;

            db.collection("trips").add({
                day: day, time: time, type: type, title: title, desc: desc,
                location: location || title, 
                createdAt: firebase.firestore.FieldValue.serverTimestamp()
            }).then(() => {
                closeModal('addModal');
                btn.textContent = "ç¢ºèªæ–°å¢";
                btn.disabled = false;
                document.getElementById('input-title').value = '';
                document.getElementById('input-desc').value = '';
                document.getElementById('input-location').value = '';
            }).catch((error) => {
                alert("æ–°å¢å¤±æ•—ï¼š" + error.message);
                btn.disabled = false;
            });
        }

        function renderItinerary(dayId) {
            const list = document.getElementById('itinerary-list');
            list.innerHTML = '';

            // 1. å–å¾—è³‡æ–™åº«ä¸­çš„ç•¶æ—¥è¡Œç¨‹
            let dayItems = allItineraries.filter(item => parseInt(item.day) === dayId);
            
            // 2. åŠ å…¥ç•¶æ—¥çš„å›ºå®šèˆªç­ (å¦‚æœæœ‰)
            const daysFixedFlights = fixedFlights.filter(f => f.day === dayId);
            dayItems = [...dayItems, ...daysFixedFlights];

            // 3. é‡æ–°ä¾ç…§æ™‚é–“æ’åº
            dayItems.sort((a, b) => a.time.localeCompare(b.time));

            if (dayItems.length === 0) {
                list.innerHTML = `
                    <div style="text-align:center; padding:40px; color:#aaa;">
                        <i class="fas fa-ghost fa-2x" style="opacity:0.3; margin-bottom:10px;"></i>
                        <p>é€™å¤©é‚„æ˜¯ç©ºçš„æ<br>æŒ‰ + è™Ÿæ–°å¢è¡Œç¨‹å§ï¼</p>
                    </div>`;
                return;
            }

            dayItems.forEach(item => {
                const timelineItem = document.createElement('div');
                timelineItem.className = 'timeline-item';

                const amapUrl = `https://uri.amap.com/navigation?poiname=${encodeURIComponent(item.location)}`;
                let tagHtml = '';
                
                // æ¨™ç±¤é‚è¼¯
                if(item.isFixed) tagHtml += `<span class="tag tag-flight">èˆªç­</span>`;
                else {
                    if(item.desc && item.desc.includes("å¿…åƒ")) tagHtml += `<span class="tag tag-must-eat">å¿…åƒ</span>`;
                    if(item.desc && item.desc.includes("é ç´„")) tagHtml += `<span class="tag tag-code">éœ€é ç´„</span>`;
                }

                // åˆªé™¤æŒ‰éˆ•é‚è¼¯ï¼šå¦‚æœæ˜¯å›ºå®šè¡Œç¨‹ (isFixed)ï¼Œå°±ä¸é¡¯ç¤ºåˆªé™¤éˆ•
                const deleteBtn = item.isFixed 
                    ? `<i class="fas fa-lock" style="color:#ccc; font-size:0.8rem;" title="å›ºå®šè¡Œç¨‹ç„¡æ³•åˆªé™¤"></i>`
                    : `<i class="fas fa-trash-alt" style="color:#ffb7b7; cursor:pointer;" onclick="deleteItem('${item.id}')" title="åˆªé™¤"></i>`;

                timelineItem.innerHTML = `
                    <div class="timeline-dot ${item.isFixed ? 'fixed-flight' : ''}"></div>
                    <div class="card ${item.type}">
                        <div class="card-header">
                            <span class="time">${item.time}</span>
                            ${deleteBtn}
                        </div>
                        <div class="title">${item.title}</div>
                        <div class="desc">${item.desc}</div>
                        <div class="tags">${tagHtml}</div>
                        <a href="${amapUrl}" target="_blank" class="nav-btn">
                            <i class="fas fa-location-arrow"></i> å°èˆª
                        </a>
                    </div>
                `;
                list.appendChild(timelineItem);
            });
        }

        function deleteItem(docId) {
            if(confirm("ç¢ºå®šè¦åˆªé™¤é€™å€‹è¡Œç¨‹å—ï¼Ÿ")) {
                db.collection("trips").doc(docId).delete().catch(error => {
                    alert("åˆªé™¤å¤±æ•—");
                });
            }
        }

        function renderDaySelector() {
            const container = document.getElementById('day-selector');
            container.innerHTML = '';
            for(let i=1; i<=6; i++) {
                const chip = document.createElement('div');
                chip.className = `day-chip ${i === currentDay ? 'active' : ''}`;
                chip.textContent = dayLabels[i].split(':')[0]; 
                chip.onclick = () => {
                    currentDay = i;
                    document.getElementById('current-city').textContent = cityMap[i];
                    updateWeather(cityMap[i]);
                    renderDaySelector();
                    renderItinerary(i);
                };
                container.appendChild(chip);
            }
        }
        
        function updateWeather(city) {
            if(city === 'ä¸Šæµ·') {
                document.getElementById('weather-temp').textContent = '21Â°C';
                document.getElementById('weather-desc').textContent = 'æ™´æœ— â€¢ é©åˆå¤–ç˜æ¼«æ­¥';
            } else {
                document.getElementById('weather-temp').textContent = '18Â°C';
                document.getElementById('weather-desc').textContent = 'å¤šé›² â€¢ é©åˆæ•£æ­¥';
            }
        }

        // Modal æ§åˆ¶é€šç”¨å‡½å¼
        function openModal(id) { document.getElementById(id).classList.add('open'); }
        function closeModal(id) { document.getElementById(id).classList.remove('open'); }
        function showFlightInfo() { openModal('flightModal'); } // å°ˆé–€çµ¦èˆªç­è³‡è¨Šç”¨

        function switchTab(t) {
            document.querySelectorAll('.section').forEach(e => e.classList.remove('active'));
            document.getElementById('tab-'+t).classList.add('active');
            
            document.querySelectorAll('.tab-item').forEach(e => e.classList.remove('active'));
            if(t==='itinerary') document.querySelectorAll('.tab-item')[0].classList.add('active');
            if(t==='tools') document.querySelectorAll('.tab-item')[1].classList.add('active');
        }
    </script>
</body>
</html>
